<script>
    // Manejar la inactividad del usuario
    let timeout;

    function resetTimer() {
    clearTimeout(timeout);
    timeout = setTimeout(logout, 1800000); // 30 minutos en milisegundos
    }

    function logout() {
    // Enviar una solicitud al servidor para cerrar la sesión
    fetch('/logout', {
        method: 'GET'
    }).then(response => {
        if (response.ok) {
        // Redirigir al usuario a la página de inicio de sesión o a donde sea necesario
        window.location.href = '/login';
        } else {
        console.error('Error al cerrar sesión');
        }
    }).catch(error => {
        console.error('Error al cerrar sesión:', error);
    });
    }

    // Iniciar el temporizador cuando la página se carga o se realiza alguna acción
    document.addEventListener('DOMContentLoaded', resetTimer);
    document.addEventListener('click', resetTimer);
    document.addEventListener('mousemove', resetTimer);
</script>